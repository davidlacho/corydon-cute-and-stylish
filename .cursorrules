# Blog Post Structure Guide for staywinnipeg.ca

This file documents the structure and requirements for creating blog posts on the staywinnipeg.ca website.

## File Naming Convention

- Blog posts must be named: `blog-[topic].html`
- Use lowercase with hyphens (kebab-case)
- Examples: `blog-winnipeg-jets.html`, `blog-the-forks.html`, `blog-corydon-guide.html`

## Required HTML Structure

### 1. DOCTYPE and Head Section

```html
<!DOCTYPE html>
<html lang="en-CA">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
```

### 2. Primary Meta Tags (Required)

```html
<!-- Primary Meta Tags -->
<title>[Post Title] | Stay Winnipeg Blog</title>
<meta name="title" content="[Post Title] | Stay Winnipeg Blog">
<meta name="description" content="[150-160 character description for SEO]">
<meta name="keywords" content="[comma-separated keywords]">
<meta name="author" content="David">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://staywinnipeg.ca/blog-[topic].html">
<link rel="alternate" hreflang="en-CA" href="https://staywinnipeg.ca/blog-[topic].html">
<link rel="alternate" hreflang="x-default" href="https://staywinnipeg.ca/blog-[topic].html">
```

### 3. Open Graph Meta Tags (Required for Social Sharing)

```html
<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:url" content="https://staywinnipeg.ca/blog-[topic].html">
<meta property="og:title" content="[Post Title]">
<meta property="og:description" content="[Description for social sharing]">
<meta property="og:image" content="[Full URL to hero image]">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="800">
<meta property="og:site_name" content="Stay Winnipeg">
<meta property="og:locale" content="en_CA">
<meta property="article:published_time" content="YYYY-MM-DDTHH:MM:SS+00:00">
<meta property="article:modified_time" content="YYYY-MM-DDTHH:MM:SS+00:00">
<meta property="article:author" content="David">
<meta property="article:section" content="[Category]">
<meta property="article:tag" content="[Tag 1]">
<meta property="article:tag" content="[Tag 2]">
```

### 4. Twitter Meta Tags (Required)

```html
<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://staywinnipeg.ca/blog-[topic].html">
<meta name="twitter:title" content="[Post Title]">
<meta name="twitter:description" content="[Description for Twitter]">
<meta name="twitter:image" content="[Full URL to hero image]">
```

### 5. Required Links and Fonts

```html
<link rel="icon" type="image/png" href="/home-icon.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" as="style">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
<noscript><link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet"></noscript>
```

### 6. CSS Styles

- All blog posts MUST link to the shared stylesheet: `<link rel="stylesheet" href="/blog-styles.css">`
- Do NOT include inline `<style>` blocks in individual blog post HTML files.
- The `blog-styles.css` file includes all necessary styles for navigation, article layout, typography, highlight boxes, footer, and the floating book button, along with mobile responsiveness.

### 7. React CDN Setup (Required)

All blog posts use React via CDN, following the same approach as `index.html`. Include these scripts in the `<head>` section:

```html
<!-- Load React libraries with defer for non-blocking execution -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js" defer></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" defer></script>
<!-- Load Babel last to ensure React is ready, with defer to prevent blocking -->
<script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>

<!-- Load shared blog components -->
<script src="/blog-components.js" defer></script>
```

### 8. React Component Structure

Blog posts use React to render Navigation, Footer, and FloatingBookButton components. The article content is extracted from the HTML and rendered by React.

**Required Structure:**

```html
<body>
    <!-- React will render here -->
    <div id="root"></div>
    
    <!-- Article content (accessible to React and noscript fallback) -->
    <main id="article-content">
        <article class="container">
            <div class="article-header">
                <a href="https://staywinnipeg.ca/blog.html" class="back-link">‚Üê Back to Blog</a>
                <h1>[Post Title]</h1>
                <div class="article-meta">
                    <span>[Emoji] Category</span> ‚Ä¢ <span>‚è±Ô∏è X min read</span> ‚Ä¢ <span>üìÖ Month Day, Year</span>
                </div>
            </div>

            <div class="article-hero-image">
                <img src="[image URL]" alt="[descriptive alt text]" loading="eager">
            </div>

            <div class="article-body">
                <!-- Content goes here -->
            </div>
        </article>
    </main>
    
    <noscript>
        <!-- Fallback for no JavaScript -->
        <div id="nav-placeholder"></div>
        <div id="footer-placeholder"></div>
        <script src="/load-components.js"></script>
    </noscript>

    <!-- React App for Blog Post -->
    <script type="text/babel" defer>
        const { useState, useEffect } = React;

        function BlogPostApp() {
            const [articleContent, setArticleContent] = useState(null);

            useEffect(() => {
                // Find the article element from the hidden main element
                const mainEl = document.getElementById('article-content');
                const articleEl = mainEl ? mainEl.querySelector('article') : null;
                
                if (articleEl) {
                    // Clone and extract the article HTML
                    const clone = articleEl.cloneNode(true);
                    setArticleContent(clone.innerHTML);
                    // Hide the original after extracting
                    if (mainEl) mainEl.style.display = 'none';
                }
            }, []);

            if (!articleContent) {
                // Still loading
                return React.createElement('div', null,
                    React.createElement(Navigation),
                    React.createElement('main', null,
                        React.createElement('div', { className: 'container' },
                            React.createElement('p', null, 'Loading...')
                        )
                    ),
                    React.createElement(Footer),
                    React.createElement(FloatingBookButton)
                );
            }

            return React.createElement('div', null,
                React.createElement(Navigation),
                React.createElement('main', null,
                    React.createElement('article', {
                        className: 'container',
                        dangerouslySetInnerHTML: { __html: articleContent }
                    })
                ),
                React.createElement(Footer),
                React.createElement(FloatingBookButton)
            );
        }

        // Wait for React to load, then render
        function initBlogPostApp() {
            if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
                const root = ReactDOM.createRoot(document.getElementById('root'));
                root.render(React.createElement(BlogPostApp));
            } else {
                setTimeout(initBlogPostApp, 100);
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initBlogPostApp);
        } else {
            initBlogPostApp();
        }
    </script>
</body>
```

**Critical Requirements:**
- The article content MUST be in a `<main id="article-content">` element (NOT inside noscript) so React can extract it
- The `<main id="article-content">` should contain a single `<article class="container">` with all the article content
- React components (Navigation, Footer, FloatingBookButton) are automatically rendered - you do NOT need to include them manually
- The React app script (`BlogPostApp`) MUST be included before the closing `</body>` tag
- The `<div id="root"></div>` MUST exist in the body for React to render into
- The noscript fallback is for users without JavaScript - it loads navigation/footer via `/load-components.js`
- All React code uses `React.createElement` (not JSX) since we're using Babel standalone
- **Navigation and Footer will NOT show if the React app script is missing or if React fails to load**
- Do NOT include `<div id="footer-placeholder"></div>` or `<div id="nav-placeholder"></div>` outside of the `<noscript>` tag - React handles this automatically
- **Smooth Transitions**: The site uses smooth fade transitions to prevent content flash when React loads. The transition function (`window.hideNoscriptWhenReady`) is automatically included in all blog posts

## Content Structure Guidelines

### Headings Hierarchy

- Use `<h1>` only once for the main title (in article-header)
- Use `<h2>` for major sections
- Use `<h3>` for subsections within h2 sections
- Headings use Playfair Display font automatically

### Paragraphs

- Keep paragraphs focused and readable (3-5 sentences)
- Use `<p>` tags for all body text
- Line height is 1.7 for readability

### Special Content Boxes

#### Highlight Box (Yellow/Orange accent)
```html
<div class="highlight-box">
    <p><strong>[Title]:</strong> [Content with helpful tips or interesting facts]</p>
</div>
```

#### Info Box (Teal accent)
```html
<div class="info-box">
    <p><strong>[Title]:</strong> [Informational content]</p>
</div>
```

#### Warning Box (Orange accent - use sparingly)
```html
<div class="warning-box">
    <p><strong>[Warning Title]:</strong> [Important warning or caution]</p>
</div>
```

### Lists

- Use `<ul>` for unordered lists
- Use `<li>` for list items
- Lists automatically have proper spacing

### Links

- External links: `<a href="[url]" target="_blank" rel="noopener noreferrer">[text]</a>`
- Internal links: `<a href="https://staywinnipeg.ca/[page].html">[text]</a>`
- Always use descriptive link text

### Images

- Hero image: Use in `article-hero-image` div with `loading="eager"`
- Other images: Use `loading="lazy"` for performance
- Always include descriptive `alt` text
- Images can be from `/images/` directory or external URLs (Unsplash, etc.)
- Recommended size: 1200x800px for hero images

## Footer Structure (Required)

The Footer is rendered by React using the `Footer` component from `/blog-components.js`. You do NOT need to manually include footer HTML in blog posts - React handles this automatically.

**IMPORTANT:** The land acknowledgement is REQUIRED and is automatically included in the Footer component. The Footer component includes:

- Footer links (Home, Features, Reviews, Amenities, Nearby, Blog, Book Now)
- Copyright notice
- Airbnb listing link
- Registration details
- **Land acknowledgement** (required for all blog posts)

The land acknowledgement text: "We acknowledge that we are on Treaty 1 territory, the traditional lands of the Anishinaabe, Cree, Oji-Cree, Dakota, and Dene peoples, and the homeland of the M√©tis Nation."

## JSON-LD Structured Data (Required for SEO)

```html
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "[Post Title]",
    "description": "[SEO description]",
    "author": {
        "@type": "Person",
        "name": "David"
    },
    "datePublished": "YYYY-MM-DD",
    "dateModified": "YYYY-MM-DD",
    "publisher": {
        "@type": "Organization",
        "name": "Stay Winnipeg"
    },
    "image": "[Full URL to hero image]",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://staywinnipeg.ca/blog-[topic].html"
    }
}
</script>
```

## Floating Book Now Button (Required)

```html
<a 
    href="https://www.airbnb.ca/rooms/716340250371431352"
    class="floating-book-button"
    target="_blank"
    rel="noopener noreferrer"
    aria-label="Book your stay on Airbnb - opens in new tab"
>
    Book Now
</a>
```

## Post-Creation Checklist

After creating a new blog post, you MUST:

1. ‚úÖ **Ensure React setup is correct**
   - Include React CDN scripts in the `<head>` section
   - Include the React app script before closing `</body>` tag
   - The land acknowledgement is automatically included via the Footer component (no manual action needed)

2. ‚úÖ Add the post to `articles-data.js` and `blog.html`
   - Add article metadata to `/articles-data.js` in the `ARTICLES_DATA` array
   - The article will automatically appear in `blog.html` via React filtering
   - Format for articles-data.js:
   ```javascript
   {
       "url": "/blog-[topic].html",
       "category": "[winnipeg|hosting|travel]",
       "date": "YYYY-MM-DD",
       "title": "[Post Title]",
       "image": "[image URL]",
       "imageAlt": "[alt text]",
       "description": "[150-160 character description]",
       "metaHtml": "<span>[Emoji] Category</span>\n<span>‚è±Ô∏è X min read</span>\n<span>üìÖ Month Day, Year</span>"
   }
   ```

3. ‚úÖ Add the post to `sitemap.xml`
   - Format:
   ```xml
   <url>
       <loc>https://staywinnipeg.ca/blog-[topic].html</loc>
       <lastmod>YYYY-MM-DD</lastmod>
       <changefreq>monthly</changefreq>
       <priority>0.8</priority>
   </url>
   ```

4. ‚úÖ Add the post to `llms.txt`
   - Update total blog post count
   - Add entry in appropriate category section
   - Update site structure counts

5. ‚úÖ Add JSON-LD entry to `blog.html` structured data section
   - Include in the `blogListings` array

## Content Categories

Blog posts fall into three main categories:

1. **Winnipeg Attractions & Activities** (data-category="winnipeg")
   - Local guides, attractions, restaurants, neighborhoods, activities

2. **Hosting & Airbnb Philosophy** (data-category="hosting")
   - Hosting tips, design lessons, guest guides, hosting philosophy

3. **Travel Experiences & Stories** (data-category="travel")
   - Personal travel stories, experiences from other Airbnbs

## Writing Guidelines

- Write in a friendly, informative tone
- Use Canadian English spelling (e.g., "colour", "neighbourhood")
- Include relevant local context and connections to the Airbnb location
- Use descriptive, engaging headings
- Break up long paragraphs for readability
- Include practical tips and local insights
- Link to relevant external resources when appropriate
- Always mention the Airbnb location when relevant (Crescentwood, Corydon neighborhood)

## Image Guidelines

- Hero images should be high quality and relevant to the topic
- Use Unsplash or local images from `/images/` directory
- Optimize images for web (compressed, appropriate size)
- Always include descriptive alt text for accessibility
- Recommended formats: JPG, PNG, WebP

## SEO Best Practices

- Title tags: 50-60 characters
- Meta descriptions: 150-160 characters
- Use relevant keywords naturally in content
- Include internal links to other blog posts when relevant
- Use descriptive headings (H2, H3) with keywords
- Include structured data (JSON-LD)
- Ensure all images have alt text

## React Component Architecture

### Shared Components (`/blog-components.js`)

All blog posts use shared React components:

1. **Navigation Component**
   - Handles mobile menu toggle
   - Responsive navigation with overlay
   - Active state management based on current page
   - Auto-closes on window resize and escape key

2. **Footer Component**
   - Includes all footer links
   - Copyright and registration information
   - **Land acknowledgement** (automatically included)

3. **FloatingBookButton Component**
   - Fixed-position booking button
   - Appears in bottom-right corner
   - Links to Airbnb listing

### Blog Listing Page (`blog.html`)

The blog listing page uses React to:
- Render all articles from `articles-data.js`
- Provide filtering by category (All, Winnipeg, Travel, Hosting)
- Provide sorting (Date, Title, Ascending/Descending)
- Dynamically update the article grid based on filters
- Show results count

### Individual Blog Posts

Each blog post:
- Extracts article content from `<main id="article-content">` element
- Renders it with Navigation, Footer, and FloatingBookButton via React
- The React app script MUST be present - without it, Navigation and Footer will not render
- Maintains noscript fallback for accessibility (loads nav/footer via `/load-components.js`)
- Uses the same CDN approach as `index.html`
- **Critical**: If Navigation/Footer don't appear, check that:
  1. React CDN scripts are loaded in `<head>` (React, ReactDOM, Babel)
  2. `/blog-components.js` is loaded in `<head>`
  3. The React app script (`BlogPostApp`) is present before `</body>`
  4. The `<div id="root"></div>` exists in the body
  5. The `<main id="article-content">` contains the article
  6. No JavaScript errors in browser console
  7. The `Navigation`, `Footer`, and `FloatingBookButton` components are defined in `/blog-components.js`
  8. Do NOT include placeholder divs (`nav-placeholder`, `footer-placeholder`) outside of `<noscript>` - React renders these automatically

### Smooth Transitions

All blog posts and `blog.html` use smooth fade transitions to prevent content flash when React loads:

- **CSS Transitions**: Defined in `blog-styles.css` - `#root` starts with `opacity: 0` and fades in when React is ready
- **Noscript Fade-Out**: Noscript content fades out smoothly (0.3s transition) before being hidden
- **Transition Function**: Each blog post includes `window.hideNoscriptWhenReady()` function that smoothly hides noscript content
- **React Ready Class**: When React finishes rendering, `#root` gets the `react-ready` class which triggers the fade-in
- **Timing**: Transitions are coordinated so noscript fades out as React content fades in, creating a seamless experience

## Example Blog Post Template

See `blog-winnipeg-jets.html` for a complete example of a properly structured React-based blog post.

## Notes

- All dates should use format: YYYY-MM-DD
- All URLs should use HTTPS
- Always test links before publishing
- Ensure proper semantic HTML structure
- Maintain consistent formatting across all posts
- Keep file size reasonable (optimize images)

## Mobile-Friendly Requirements

**ALL pages on the site MUST be mobile-responsive.** This includes:

1. **Viewport Meta Tag**: Every HTML page must include:
   ```html
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   ```

2. **Shared Styles**: All blog posts and blog.html MUST use the shared stylesheet:
   ```html
   <link rel="stylesheet" href="/blog-styles.css">
   ```
   - Do NOT include inline `<style>` blocks in blog posts
   - The shared CSS includes comprehensive mobile responsive styles

3. **Shared Components**: Navigation and footer are loaded dynamically:
   - Use `<div id="nav-placeholder"></div>` for navigation
   - Use `<div id="footer-placeholder"></div>` for footer
   - Include `<script src="/load-components.js"></script>` before closing `</body>` tag
   - Components are loaded from `/nav.html` and `/footer.html`

4. **Mobile Breakpoints**:
   - `@media (max-width: 768px)` - Tablets and mobile devices
   - `@media (max-width: 480px)` - Small mobile devices
   - All layouts must adapt gracefully at these breakpoints

5. **Mobile Navigation**:
   - Mobile menu toggle button appears on screens ‚â§768px
   - Navigation slides in from the right on mobile
   - Overlay appears when mobile menu is open
   - Menu closes on link click, overlay click, or Escape key

6. **Responsive Typography**:
   - Font sizes scale down appropriately on mobile
   - Line heights remain readable
   - Headings maintain hierarchy

7. **Touch-Friendly Elements**:
   - All interactive elements must be at least 44x44px for touch targets
   - Adequate spacing between clickable elements
   - Buttons and links should have sufficient padding

8. **Content Layout**:
   - Single column layout on mobile
   - Grid layouts collapse to single column
   - Images scale to fit viewport width
   - Padding and margins adjust for smaller screens

9. **Testing**: Always test pages on:
   - Mobile devices (320px - 480px width)
   - Tablets (481px - 768px width)
   - Desktop (769px+ width)
   - Various browsers (Chrome, Safari, Firefox, Edge)

